# ReSale — C2C сервис объявлений

## 1. Тема и целевая аудитория

### 1.1 Тема проекта
**ReSale** — интернет-сервис для размещения объявлений и поиска товаров между частными лицами (C2C). Пользователи публикуют объявления, ищут товары по категориям и географии.

**Фокус MVP:** вертикаль **«Товары»** (электроника, дом/ремонт, хобби и т.п.).

### 1.2 Реальные аналоги (доказательство рыночной ниши)
- Avito (Россия)
- OLX (международный)
- Facebook Marketplace (международный)
- Craigslist (США)

### 1.3 Целевая аудитория (размер и местоположение)
**Местоположение:** Россия (все регионы).

**Размер аудитории для расчётов (ориентир — масштаб Avito):**
- **MAU:** **72M+** ежемесячная аудитория. [[1]](https://ads.avito.com/platform)
- **DAU:** **22 млн** ежедневная аудитория. [[2]](https://tass.ru/ekonomika/16064459)

Прогресс по количеству контента в сервисе:
- **220+ млн активных объявлений** по итогам апреля 2023 года. [[3]](https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy?ysclid=mltp0fwznz612010775)
- **2+ млн новых объявлений в день**. [[3]](https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy)
- **140 млн поисковых запросов в день**. [[4]](https://habr.com/ru/companies/avito/articles/429076/?ysclid=mltpwq0zb7242650464)
- **10 сделок в секунду**. [[5]](https://career.avito.com/)

### 1.4 MVP-функционал
1. **Выдача и поиск объявлений:** персональная лента (подборки/рекомендации), категории, фильтры (цена/состояние), сортировка, геолокация (город/район).
2. **Просмотр карточки объявления:** описание, цена, фото, локация, профиль продавца, кнопка «написать».
3. **Публикация объявления:** создание/редактирование/удаление объявлений, загрузка фото.
4. **Избранное:** добавление/удаление, список избранных.
5. **Жалобы и модерация:** жалоба на объявление/пользователя, скрытие/блокировка, очередь модерации.

### 1.5 Ключевые продуктовые решения
- **Геозависимая выдача:** ранжирование с учётом города/расстояния, а также базовой системы рекомендаций.
- **Выделение поиска в отдельный сервис:** для обеспечения быстрого доступа данные об объявлениях загружаются в поисковый движок, где для них строятся специализированные структуры.
- **Модерация и защита от мошенничества обязательны:** автоматические правила и модели машинного обучения, спорные случаи отправляются на ручную модерацию.

---

## 2. Расчёт нагрузки

### 2.1 Продуктовые метрики

#### Сводная таблица метрик

| Метрика | Значение |
|---|---:|
| **MAU** | **72 млн+** пользователей/мес (РФ) [[1]](https://ads.avito.com/platform) |
| **DAU** | **22 млн** пользователей/день [[2]](https://tass.ru/ekonomika/16064459) |
| Активные объявления | **220+ млн** [[3]](https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy?ysclid=mltp0fwznz612010775) |
| Новые объявления | **2+ млн/день** [[3]](https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy?ysclid=mltp0fwznz612010775) |
| Поисковые запросы | **140 млн/день** [[4]](https://habr.com/ru/companies/avito/articles/429076/?ysclid=mltpwq0zb7242650464) |
| Просмотры карточек (расчёт) | **141 997 830/день** |
| Контакты (расчёт) | **2 545 613/день** |
| Средний объём активных данных на пользователя (расчёт) | **0,0863 ГБ/польз.** |

#### Данные выгрузки (17.02.2026) по поисковым запросам (вертикаль «Товары»)

Источник выгрузки: файл в репозитории `data_queries_avito.xlsx`. [[11]](./%D0%9B%D0%B8%D1%81%D1%82%20Microsoft%20Excel.xlsx)

| Показатель | Значение |
|---|---:|
| Кол-во поисковых фраз в выгрузке | 1 880 |
| Суммарная частота запросов за сутки (выгрузка) $Q_{sample}$ | 10 805 232 |
| Суммарные просмотры карточек за сутки (выгрузка) $V_{sample}$ | 10 959 425 |
| Суммарные контакты за сутки (выгрузка) $C_{sample}$ | 196 471 |

#### Коэффициенты поведения (по выгрузке)

Просмотры карточек на один поисковый запрос:
$$
\frac{V}{Q}=\frac{V_{sample}}{Q_{sample}}=\frac{10\,959\,425}{10\,805\,232}=1{,}014
$$

Конверсия из просмотра карточки в контакт:
$$
CR_{V\to C}=\frac{C_{sample}}{V_{sample}}=\frac{196\,471}{10\,959\,425}=1{,}79\%
$$

Контакты на один поисковый запрос:
$$
\frac{C}{Q}=\frac{C_{sample}}{Q_{sample}}=\frac{196\,471}{10\,805\,232}=1{,}82\%
$$

#### Пересчёт на суточные метрики сервиса

Берём суточное число поисковых запросов $Q_{day}=140\,000\,000$ [[4]](https://habr.com/ru/companies/avito/articles/429076/?ysclid=mltpwq0zb7242650464).

Просмотры карточек в сутки:
$$
V_{day}=Q_{day}\cdot\frac{V}{Q}=140\,000\,000\cdot1{,}014=141\,997\,830
$$

Контакты в сутки:
$$
C_{day}=V_{day}\cdot CR_{V\to C}=141\,997\,830\cdot1{,}79\%=2\,545\,613
$$

#### Среднее количество действий пользователя в день (по DAU)

Используем $DAU=22\,000\,000$ [[2]](https://tass.ru/ekonomika/16064459).

Среднее число действий на пользователя:
$$
A_{user}=\frac{A_{day}}{DAU}
$$

| Действие | Среднее на пользователя в день |
|---|---:|
| Поиск/выдача | 6,36 |
| Просмотр карточки | 6,45 |
| Запрос контакта | 0,116 |
| Избранное (добавление/удаление) *(5% от просмотров)* | 0,323 |
| Жалоба *(0,2% от просмотров)* | 0,013 |
| Публикация объявления (CRUD) | 0,091 |
| Загрузка фото *(7 фото на объявление)* | 0,636 |

#### Средний размер хранилища пользователя (шт. и ГБ)

Допущение по фото: минимум 6–8 фото, для расчёта принимаем **7 фото на объявление**. [[6]](https://workspace.ru/blog/kak-foto-vliyaet-na-vydachu-na-avito-chto-algoritm-schitaet-kachestvennym-kontentom-v-2025-godu/)

Среднее число объявлений на пользователя:
$$
N_{ads/user}=\frac{N_{ads}}{MAU}=\frac{220\,000\,000}{72\,000\,000}=3{,}06
$$

Среднее число фото на пользователя:
$$
N_{photo/user}=N_{ads/user}\cdot 7=3{,}06\cdot 7=21{,}39
$$

Принятые размеры:
- Оригинал фото: **4 МБ** [[7]](https://dedupify.app/guides/camera-settings/)
- Уменьшенные копии фото (миниатюра + фото для карточки): **132 КБ** = 12 КБ [[8]](https://almanac.httparchive.org/en/2024/media) + 120 КБ (из 348 КБ / 3 фото) [[9]](https://almanac.httparchive.org/en/2024/page-weight)
- Метаданные объявления: **2 КБ** (допущение)
- Избранное: **10** записей на пользователя, по **32 Б** (допущение)

Объём на пользователя по типу данных:
$$
S_{user,i}=N_{user,i}\cdot S_i
$$

| Тип данных                                     | На пользователя (шт.) | Объём на пользователя (ГБ) |
|------------------------------------------------|---:|---:|
| Объявления (метаданные)                        | 3,06 | 0,000006 |
| Фото (оригиналы)                               | 21,39 | 0,0836 |
| Фото (уменьшенные копии)                       | 21,39 | 0,00275 |
| Избранное (связь «пользователь -> объявление») | 10 | ~0,000000 |
| **Итого**                                      | — | **0,0863** |


### 2.2 Технические метрики

#### 2.2.1 Размер хранения (в разбивке по типам данных)

Используем $N_{ads}=220\,000\,000$ [[3]](https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy?ysclid=mltp0fwznz612010775) и 7 фото на объявление [[6]](https://workspace.ru/blog/kak-foto-vliyaet-na-vydachu-na-avito-chto-algoritm-schitaet-kachestvennym-kontentom-v-2025-godu/).

Количество фото в базе:
$$
N_{photo}=N_{ads}\cdot 7=220\,000\,000\cdot 7=1\,540\,000\,000
$$

Размер хранения по типу данных:
$$
S_{total,i}=N_i\cdot S_i
$$

| Тип данных | Количество (шт.) | Размер элемента | Хранение, ТБ |
|---|---:|---:|---:|
| Объявления (метаданные) | 220 000 000 | 2 КБ | 0,41 |
| Фото (оригиналы) | 1 540 000 000 | 4 МБ [[7]](https://dedupify.app/guides/camera-settings/) | 5 874,63 |
| Фото (уменьшенные копии) | 1 540 000 000 | 132 КБ [[8]](https://almanac.httparchive.org/en/2024/media) [[9]](https://almanac.httparchive.org/en/2024/page-weight) | 189,32 |
| Избранное (связь «пользователь → объявление») | 720 000 000 | 32 Б | 0,021 |
| Жалобы (хранение 30 дней) | 8 519 880 | 256 Б | 0,002 |

#### 2.2.2 RPS (в разбивке по типам запросов)

Средний RPS:
$$
RPS_{avg}=\frac{N_{day}}{86\,400}
$$

Пиковый RPS:
$$
RPS_{peak}=k_{peak}\cdot RPS_{avg}
$$

Коэффициент пика: $k_{peak}=3$ [[10]](https://www.robustperception.io/do-you-know-your-peak-to-mean-ratio/).

| Действие | RPS_avg | RPS_peak |
|---|---:|---:|
| Поиск/выдача | 1 620,37 | 4 861,11 |
| Просмотр карточки | 1 643,49 | 4 930,48 |
| Запрос контакта | 29,46 | 88,39 |
| Избранное (добавление/удаление) | 82,17 | 246,52 |
| Жалоба | 3,29 | 9,86 |
| Публикация объявления (CRUD) | 23,15 | 69,44 |
| Загрузка фото | 162,04 | 486,11 |

#### 2.2.3 Сетевой трафик

Суточный трафик по типу:
$$
Traffic_{day,i}=N_{day,i}\cdot S_i
$$

Среднее потребление:
$$
BW_{avg,i}=\frac{Traffic_{day,i}\cdot 8}{86\,400}
$$

Пиковое потребление:
$$
BW_{peak,i}=k_{peak}\cdot BW_{avg,i}
$$

Где $k_{peak}=3$ [[10]](https://www.robustperception.io/do-you-know-your-peak-to-mean-ratio/).

Принятые размеры ответа/загрузки:
- Поиск/выдача: **260 КБ** (20 карточек × миниатюра 12 КБ + служебные данные) [[8]](https://almanac.httparchive.org/en/2024/media)
- Просмотр карточки: **358 КБ** (изображения ~348 КБ + метаданные ~10 КБ) [[9]](https://almanac.httparchive.org/en/2024/page-weight)
- Запрос контакта: **2 КБ** (оценка)
- Избранное: **1 КБ** (оценка)
- Жалоба: **2 КБ** (оценка)
- Публикация объявления (CRUD): **10 КБ** (оценка)
- Загрузка фото: **4 МБ** [[7]](https://dedupify.app/guides/camera-settings/)

| Действие | Среднее потребление, Гбит/с | Пиковое потребление, Гбит/с | Суточный трафик, ТБ/сутки |
|---|---:|---:|---:|
| Поиск/выдача | 3,45 | 10,35 | 33,90 |
| Просмотр карточки | 4,82 | 14,46 | 47,34 |
| Запрос контакта | 0,000 | 0,001 | 0,005 |
| Избранное (добавление/удаление) | 0,001 | 0,002 | 0,007 |
| Жалоба | 0,000 | 0,000 | 0,001 |
| Публикация объявления (CRUD) | 0,002 | 0,006 | 0,019 |
| Загрузка фото | 5,44 | 16,31 | 53,41 |

**Итого по сети (сумма по строкам):**
- Среднее потребление: **13,71 Гбит/сек**
- Пиковое потребление: **41,13 Гбит/сек**
- Суточный трафик: **134,68 ТБ/сутки**

## Источники
1. https://ads.avito.com/platform
2. https://tass.ru/ekonomika/16064459
3. https://moskva.mts.ru/about/media-centr/soobshheniya-kompanii/novosti-mts-v-rossii-i-mire/2024-12-17/mts-adtech-i-avito-obyavili-o-partnerstve-v-oblasti-razmeshheniya-nativnoj-reklamy?ysclid=mltp0fwznz612010775
4. https://habr.com/ru/companies/avito/articles/429076/?ysclid=mltpwq0zb7242650464
5. https://career.avito.com/
6. https://workspace.ru/blog/kak-foto-vliyaet-na-vydachu-na-avito-chto-algoritm-schitaet-kachestvennym-kontentom-v-2025-godu/
7. https://dedupify.app/guides/camera-settings/
8. https://almanac.httparchive.org/en/2024/media
9. https://almanac.httparchive.org/en/2024/page-weight
10. https://www.robustperception.io/do-you-know-your-peak-to-mean-ratio/
11. Выгрузка данных по поисковым запросам за 17.02.2026 (файл `data_queries_avito.xlsx` в репозитории)
